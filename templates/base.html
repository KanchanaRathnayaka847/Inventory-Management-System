<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}Inventory System{% endblock %}</title>
    <style>
      :root{
        --green-900: #0b3d2e;
        --green-700: #116a4b;
        --green-500: #1ea376;
        --green-300: #7fd6b1;
        --muted: #f6f9f6;
        --text: #08321f;
      }

  *{ box-sizing: border-box; }
  body { font-family: 'Segoe UI', Roboto, Arial, sans-serif; margin: 0; padding: 0; color: var(--text); background: #ffffff; }
  /* Header at top with small height; welcome placed to the right */
  header { background: linear-gradient(90deg, var(--green-700), var(--green-500)); color: white; position: fixed; top:0; left:0; right:0; height:60px; display:flex; align-items:center; padding: 0 20px; z-index:40; }
  header h1{ font-size: 18px; margin:0; font-weight:600; }
  header .header-right{ margin-left:auto; display:flex; align-items:center; gap:12px; }
  /* Left sidebar navigation */
  .layout{ display:flex; min-height:100vh; }
  aside.sidebar{ width:220px; background: linear-gradient(180deg, var(--green-900), var(--green-700)); color: white; padding: 80px 12px 20px 12px; position: fixed; top:60px; bottom:0; left:0; overflow:auto; }
  aside.sidebar nav { display:flex; flex-direction:column; gap:6px; }
  aside.sidebar a { color: white; padding:10px 12px; text-decoration:none; border-radius:8px; display:block; }
  aside.sidebar a:hover{ background: rgba(255,255,255,0.06); }
  main { padding: 28px; margin-left:240px; padding-top:92px; max-width: 1100px; }
      .card{ background: var(--muted); border-radius:10px; padding:16px; box-shadow: 0 2px 6px rgba(11,61,46,0.06); }
      .toolbar{ display:flex; gap:12px; align-items:center; margin-bottom:12px; }
      a.button, button.button{ background: var(--green-700); color: white; padding:8px 12px; border:none; border-radius:8px; text-decoration:none; cursor:pointer; }
      .btn-ghost{ background:transparent; border:1px solid rgba(11,61,46,0.08); color:var(--green-900); }
      form input[type=text], form input[type=password], form input[type=number], form input[type=float], form select{ padding:8px 10px; border-radius:6px; border:1px solid #d6e9e1; width:100%; max-width:360px; }
      table{ width:100%; border-collapse:collapse; margin-top:10px; }
      table thead th{ text-align:left; padding:8px; background: #f0faf4; border-bottom:2px solid rgba(11,61,46,0.06); }
      table tbody td{ padding:10px; border-bottom:1px solid rgba(11,61,46,0.04); }
      footer { background: var(--muted); padding: 12px 20px; text-align: center; border-top:1px solid rgba(11,61,46,0.04); margin-top: 40px; }

      .warning { color: #8b1e1e; background: #fff2f2; padding:6px 8px; border-radius:6px; display:inline-block; }
      .reorder { color: #ff3b30; font-weight:600; }
  .row-low { background: #ffeaea; }
  .row-ok { background: #e9fff2; }

  /* Small status badges */
  .badge{ display:inline-block; padding:3px 8px; font-size:12px; border-radius:999px; line-height:1; border:1px solid transparent; }
  .badge-warning{ background:#ffe5e5; color:#b00020; border-color:#ffc7c7; }
  .badge-danger{ background:#ff3b30; color:#ffffff; border-color:#e2382f; }

  /* Centering helper for forms or content blocks */
  .center-wrap{ min-height: calc(100vh - 120px); display:flex; align-items:center; justify-content:center; }
  @media (max-width: 768px){ .center-wrap{ min-height: auto; display:block; } }

      @media (max-width:700px){
        header .container{ flex-direction:column; align-items:flex-start; gap:8px; }
        main{ padding:12px; }
      }
    </style>
  </head>
  <body>
    <header>
  <h1>{% block header_title %}Inventory System{% endblock %}</h1>
      <div class="header-right">
        {% if current_user %}
          <span>Welcome, {{ current_user.username }}</span>
          <a href="{{ url_for('logout') }}" style="color:rgba(255,255,255,0.95); text-decoration:none;">Logout</a>
        {% else %}
          <a href="{{ url_for('login') }}" style="color:rgba(255,255,255,0.95); text-decoration:none;">Login</a>
          <a href="{{ url_for('signup') }}" style="color:rgba(255,255,255,0.95); text-decoration:none;">Sign up</a>
        {% endif %}
      </div>
    </header>

    <div class="layout">
      {% if current_user %}
        <aside class="sidebar">
          <nav>
            <a href="{{ url_for('home') }}">Home</a>
            <a href="{{ url_for('purchases') }}">Purchases</a>
            <a href="{{ url_for('sales') }}">Sales</a>
            <a href="{{ url_for('master_data') }}">Master Data Management</a>
          </nav>
        </aside>
      {% endif %}

  <main {% if not current_user %}style="margin-left:0;padding-top:92px;"{% endif %}>
      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <ul>
          {% for m in messages %}
            <li>{{ m }}</li>
          {% endfor %}
          </ul>
        {% endif %}
      {% endwith %}

      {% block content %}{% endblock %}
      </main>

    </div>

    <footer style="margin-left:240px; padding-top:10px;">
      <small>&copy; 2025</small>
    </footer>
  </body>
</html>
