{% extends 'base.html' %}

{% block title %}{% if product %}Edit{% else %}Add{% endif %} Product (Master) - Inventory System{% endblock %}

{% block content %}
  <div class="card">
    <h1>{% if product %}Edit{% else %}Add{% endif %} Product</h1>
    <form method="post" style="display:flex; flex-direction:column; gap:10px; max-width:520px;">
      <label>Name: <input name="name" value="{{ product.name if product else '' }}"/></label>
      <label>Category:
        <select name="category_id">
          <option value="">-- Select Category --</option>
          {% for c in categories or [] %}
            <option value="{{ c.id }}" {% if product and product.category_id == c.id %}selected{% endif %}>{{ c.name }}</option>
          {% endfor %}
        </select>
      </label>
      <label>Unit of Measurement:
        <select name="unit">
          {% set units = ['pcs','box','pack','set','kg','g','lb','l','ml','m','cm','inch'] %}
          <option value="">-- Select Unit --</option>
          {% for u in units %}
            <option value="{{ u }}" {% if product and product.unit == u %}selected{% endif %}>{{ u }}</option>
          {% endfor %}
          {% if product and product.unit and product.unit not in units %}
            <option value="{{ product.unit }}" selected>{{ product.unit }}</option>
          {% endif %}
        </select>
      </label>
      <div style="display:flex; gap:8px;">
        <button class="button" type="submit">Save</button>
        <a class="button btn-ghost" href="{{ url_for('product_master') }}">Back</a>
      </div>
    </form>
  </div>
{% endblock %}
